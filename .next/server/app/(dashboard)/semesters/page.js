(()=>{var e={};e.id=914,e.ids=[914],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3310:(e,s,r)=>{Promise.resolve().then(r.bind(r,26812)),Promise.resolve().then(r.bind(r,90456))},4289:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m});var t=r(37413),i=r(88261),n=r(41506),a=r(51358),o=r(75234),d=r(26812),l=r(90456);async function c(e){let{data:s}=await n.N.from("semesters").select(`
      *,
      courses (*)
    `).eq("user_id",e).order("created_at",{ascending:!1});return s||[]}async function u(e){return await c(e)}async function m(){let{userId:e}=await (0,i.j)(),s=await u(e);return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Semesters"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your semesters and courses"})]}),(0,t.jsx)(d.AddSemesterDialog,{})]}),0===s.length?(0,t.jsxs)(a.Zp,{children:[(0,t.jsxs)(a.aR,{className:"text-center",children:[(0,t.jsx)(o.A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)(a.ZB,{children:"No Semesters Yet"}),(0,t.jsx)(a.BT,{children:"Get started by adding your first semester"})]}),(0,t.jsx)(a.Wu,{className:"text-center",children:(0,t.jsx)(d.AddSemesterDialog,{})})]}):(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(e=>(0,t.jsx)(l.SemesterCard,{semester:e},e.id))})]})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26812:(e,s,r)=>{"use strict";r.d(s,{AddSemesterDialog:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call AddSemesterDialog() from the server but AddSemesterDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/basit/personal/GPA-Calculator/components/add-semester-dialog.tsx","AddSemesterDialog")},27342:(e,s,r)=>{"use strict";r.d(s,{AddSemesterDialog:()=>h});var t=r(60687),i=r(43210),n=r(16189),a=r(56499),o=r(16396),d=r(24934),l=r(37826),c=r(68988),u=r(39390),m=r(96474),x=r(52581);function h(){let[e,s]=(0,i.useState)(!1),[r,h]=(0,i.useState)(""),[p,f]=(0,i.useState)(!1),{user:j}=(0,a.Jd)(),g=(0,n.useRouter)(),v=async e=>{if(e.preventDefault(),j&&r.trim()){f(!0);try{let{error:e}=await o.N.from("semesters").insert([{user_id:j.id,name:r.trim()}]);if(e)throw e;x.oR.success("Semester added successfully!"),h(""),s(!1),g.refresh()}catch(e){x.oR.error("Failed to add semester"),console.error(e)}finally{f(!1)}}};return(0,t.jsxs)(l.lG,{open:e,onOpenChange:s,children:[(0,t.jsx)(l.zM,{asChild:!0,children:(0,t.jsxs)(d.$,{children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Add Semester"]})}),(0,t.jsx)(l.Cf,{className:"sm:max-w-[425px]",children:(0,t.jsxs)("form",{onSubmit:v,children:[(0,t.jsxs)(l.c7,{children:[(0,t.jsx)(l.L3,{children:"Add New Semester"}),(0,t.jsx)(l.rr,{children:"Create a new semester to track your courses and GPA."})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(u.J,{htmlFor:"name",className:"text-right",children:"Name"}),(0,t.jsx)(c.p,{id:"name",value:r,onChange:e=>h(e.target.value),placeholder:"e.g., Fall 2024",className:"col-span-3",required:!0})]})}),(0,t.jsx)(l.Es,{children:(0,t.jsx)(d.$,{type:"submit",disabled:p,children:p?"Adding...":"Add Semester"})})]})})]})}},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32803:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l});var t=r(65239),i=r(48088),n=r(88170),a=r.n(n),o=r(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(s,d);let l={children:["",{children:["(dashboard)",{children:["semesters",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4289)),"/home/basit/personal/GPA-Calculator/app/(dashboard)/semesters/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,71934)),"/home/basit/personal/GPA-Calculator/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/home/basit/personal/GPA-Calculator/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/basit/personal/GPA-Calculator/app/(dashboard)/semesters/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/(dashboard)/semesters/page",pathname:"/semesters",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57436:(e,s,r)=>{"use strict";r.d(s,{SemesterCard:()=>v});var t=r(60687),i=r(43210),n=r(16189),a=r(16396),o=r(55192),d=r(24934),l=r(59821),c=r(55629),u=r(93661),m=r(88233);let x=(0,r(62688).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var h=r(82080),p=r(85814),f=r.n(p),j=r(501),g=r(52581);function v({semester:e}){let[s,r]=(0,i.useState)(!1),p=(0,n.useRouter)(),v=function(e){if(0===e.length)return 0;let s=e.reduce((e,s)=>e+s.gpa*s.credit_hours,0),r=e.reduce((e,s)=>e+s.credit_hours,0);return r>0?s/r:0}(e.courses),b=e.courses.reduce((e,s)=>e+s.credit_hours,0),y=async()=>{if(confirm("Are you sure you want to delete this semester? This will also delete all courses in it.")){r(!0);try{let{error:s}=await a.N.from("semesters").delete().eq("id",e.id);if(s)throw s;g.oR.success("Semester deleted successfully!"),p.refresh()}catch(e){g.oR.error("Failed to delete semester"),console.error(e)}finally{r(!1)}}};return(0,t.jsxs)(o.Zp,{children:[(0,t.jsxs)(o.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.ZB,{className:"text-lg",children:e.name}),(0,t.jsxs)(o.BT,{children:[e.courses.length," courses â€¢ ",b," credits"]})]}),(0,t.jsxs)(c.rI,{children:[(0,t.jsx)(c.ty,{asChild:!0,children:(0,t.jsx)(d.$,{variant:"ghost",size:"icon",children:(0,t.jsx)(u.A,{className:"h-4 w-4"})})}),(0,t.jsx)(c.SQ,{align:"end",children:(0,t.jsxs)(c._2,{onClick:y,disabled:s,children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Delete Semester"]})})]})]}),(0,t.jsxs)(o.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"SGPA"})]}),(0,t.jsx)(l.E,{variant:v>=3.5?"default":v>=3?"secondary":"destructive",children:v.toFixed(2)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[0===e.courses.length?(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No courses added yet"}):e.courses.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"truncate",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:[e.credit_hours,"cr"]}),(0,t.jsx)(l.E,{variant:"outline",children:e.gpa.toFixed(1)})]})]},e.id)),e.courses.length>3&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["+",e.courses.length-3," more courses"]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(j.AddCourseDialog,{semesterId:e.id}),(0,t.jsx)(d.$,{variant:"outline",size:"sm",asChild:!0,className:"flex-1",children:(0,t.jsxs)(f(),{href:`/semesters/${e.id}`,children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"View Details"]})})]})]})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66358:(e,s,r)=>{Promise.resolve().then(r.bind(r,27342)),Promise.resolve().then(r.bind(r,57436))},73024:e=>{"use strict";e.exports=require("node:fs")},74075:e=>{"use strict";e.exports=require("zlib")},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},90456:(e,s,r)=>{"use strict";r.d(s,{SemesterCard:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call SemesterCard() from the server but SemesterCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/basit/personal/GPA-Calculator/components/semester-card.tsx","SemesterCard")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[268,69,182,799,558,829,374],()=>r(32803));module.exports=t})();